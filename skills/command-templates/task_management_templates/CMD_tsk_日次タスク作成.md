# CMD_tsk_日次タスク作成

最終更新日時: 2025年12月25日 9:06

# CMD_日次タスク作成

## 📌 コマンド概要

**目的**: 今日実行すべきタスクを自動的に抽出・整理し、Flow配下の今日の日付フォルダに日次タスクリストを作成

**用途**: Part1-3で使用（Notion AIコマンド機能の説明デモ、3分）

**実行時間**: 1分以内

---

## 📥 Input

- **なし**（自動実行）
- ステップ2でユーザーにヒアリングがあります

---

## 📤 Output

### 作成される構造

```jsx
Flow/
└── 202512/
    └── 2025-12-09  ← このページ自体に追記
        ├── (既存コンテンツ)
        └── 📋 今日のタスク（Notionテーブル）
```

### タスクテーブルの構造

**データベーススキーマ:**

- **タスク名** (title): タスクの内容
- **優先度** (select): 🔴緊急・重要 / 🟡重要・非緊急 / 🟢その他
- **完了** (checkbox): タスク完了チェック
- **見積時間** (text): 所要時間の見積もり
- **抽出元** (select): Notion / Slack / Google Docs / ユーザー追加
- **関連プロジェクト** (text): プロジェクト名やタグ

**テーブル作成例:**

| タスク名 | 優先度 | 完了 | 見積時間 | 抽出元 | 関連プロジェクト |
| --- | --- | --- | --- | --- | --- |
| Sprint Planningの準備 | 🔴緊急・重要 | ☐ | 1h | Notion | Sprint |
| 1on1の資料作成 | 🔴緊急・重要 | ☐ | 30m | Slack | 1on1 |
| Palmaドキュメント更新 | 🟡重要・非緊急 | ☐ | 2h | Notion | Palma |
| コマンド整備 | 🟡重要・非緊急 | ☐ | 1h | Notion | 内部整備 |
| 週次レビューの準備 | 🟢その他 | ☐ | 30m | Google Docs | レビュー |

**統計情報（テーブル下に追記）:**

```
抽出元: Notion 3件 / Slack 1件 / Google Docs 1件 / ユーザー追加 0件

合計見積もり時間: 5h 30m
```

---

## 🔧 実行方法

Notion AIチャットで以下のように実行してください：

```jsx
@CMD_日次タスク作成 を実行してください
```

または：

```jsx
今日のタスクを作成してください
```

---

## 📋 処理ロジック（ステップ式）

### ステップ1: タスク情報のリサーチ (30秒)

**以下のソースからタスク情報を自動収集:**

1. **Notion内の検索**
    - 期限が今日のタスク
    - ステータスが「進行中」のタスク
    - 優先度が高いタスク
    - 自分にアサインされているタスク
2. **Slackの検索**
    - 自分へのメンション
    - リマインダー設定されたメッセージ
    - ピン留めされたメッセージ
    - 「TODO」「タスク」を含むメッセージ
3. **Google Documentsの検索**
    - 最近編集したドキュメントで「[ ]」や「TODO」を含むもの
    - チェックボックスがオフのもの

**抽出後の処理:**

- 重複を除外
- 期限、優先度、ソースを記録
- 見積もり時間を自動推測（データがあれば）

### ステップ2: ユーザーヒアリング (HITL) (15秒)

**必ずユーザーに確認:**

```jsx
👤 ユーザーヒアリング

以下のタスクを発見しました：

🔴 緊急・重要 (3件)
- Sprint Planningの準備
- 1on1の資料作成
- ...

🟡 重要・非緊急 (2件)
- ...

❓ **他に今日やるべきタスクはありますか？**

あれば教えてください。
なければ「ない」と入力してください。
```

**ユーザーの回答を待つ:**

- 追加タスクがあればリストに追加
- 優先度の調整や削除も受け付け

### ステップ3: タスクの整理 (10秒)

**優先度順に並び替え:**

1. **🔴 緊急・重要**
    - 期限が今日
    - 優先度が「高」
    - 他人が待っている
2. **🟡 重要・非緊急**
    - 期限が今週以内
    - 優先度が「中」
    - 計画的に進める
3. **🟢 その他**
    - 期限なしまたは来週以降
    - 優先度が「低」
    - 時間があれば着手

**チェックボックス形式で出力:**

- 各タスクに見積もり時間を付与
- 関連プロジェクトを明記

### ステップ4: Flowの日付ページにテーブル追加 (15秒)

1. **今日の日付ページの確認**
    - Flow / 202512 / 2025-12-09 を確認
    - 存在しない場合は自動作成
2. **今日の日付フォルダの確認**
    - Flow / 202512 / 2025-12-09 を確認
    - 存在しない場合は自動作成（月フォルダも含む）
3. **日付ページにタスクテーブルを追加**
    - 既存の日付ページの末尾にコンテンツを追記
    - セクション見出し: ## 📋 今日のタスク
    - Notionインラインデータベースとして作成
    - データベース名: 今日のタスク - YYYY-MM-DD
    - inline="true" 属性を使用してページ内に展開表示
4. **テーブルのプロパティ設定**
    - タスク名（title）
    - 優先度（select）: オプション「🔴緊急・重要」「🟡重要・非緊急」「🟢その他」
    - 完了（checkbox）
    - 見積時間（text）
    - 抽出元（select）: オプション「Notion」「Slack」「Google Docs」「ユーザー追加」
    - 関連プロジェクト（text）
5. **タスクデータを行として追加**
    - 収集した各タスクをデータベースのページとして作成
    - 優先度順にソートして追加
6. **抽出元の統計情報を追加**
    - テーブルの下に統計情報を記載

### ステップ5: 完了メッセージ

ユーザーに以下のメッセージを表示：

```jsx
✅ 今日のタスクテーブルが作成されました！

作成場所：
Flow/202512/2025-12-09 （日付ページ内）

タスク数：
🔴 緊急・重要: 3件
🟡 重要・非緊急: 2件
🟢 その他: 1件

合計見積もり時間: 5h 30m

📌 次のステップ：
- タスクを完了したら「完了」チェックボックスをオン
- テーブル内で直接編集・並び替えが可能
- 見積時間と実際の所要時間を比較してフィードバック
- 完了できなかったタスクは明日のテーブルに複製
```

---

## ⚠️ 注意事項

### エラーハンドリング

1. **Flowフォルダまたは日付ページが存在しない場合**
    - 自動作成: 月フォルダ（YYYYMM）と日付ページ（YYYY-MM-DD）を自動作成
    - Flowフォルダ自体がない場合のみエラー: 「Flowフォルダが見つかりません。先にインストールコマンドを実行してください。」
2. **タスクが見つからない場合**
    - 警告メッセージ: 「タスクが見つかりませんでした。他にやるべきタスクはありますか？」
    - そのままステップ2のヒアリングに進む
3. **Slack/Google Documentsにアクセスできない場合**
    - 警告メッセージ: 「SlackまたはGoogle Documentsにアクセスできませんでした。Notion内の情報のみでタスクを作成します。」
4. **ユーザーがヒアリングに答えない場合**
    - 30秒待っても回答がなければ、発見したタスクでリスト作成

### 実行時間

- 目標: 1分以内
- ステップ1：30秒
- ステップ2：15秒
- ステップ3：10秒
- ステップ4：15秒

### 初心者への配慮

- ステップごとに明確なフィードバックを提供
- HITL（Human In The Loop）で必ずユーザー確認
- 抽出元のソースを明記して透明性を保つ

---

## 💡 活用例

### 例1: 毎朝のタスク整理

```jsx
朝9:00にコマンド実行
→ Notion/Slack/Google Docsからタスクを自動収集
→ AIが「他にありますか？」と確認
→ 優先度順に整理されたタスクリストが完成
→ 1日の始まりがスムーズ
```

### 例2: プロジェクト多忩時

```jsx
複数プロジェクトのタスクが散らばっている
→ コマンドが全てを集約
→ 優先度を自動判定
→ 「これだけですか？」とAIが確認
→ やるべきことが明確に
```

### 例3: チーム管理者

```jsx
チームメンバーからのSlackメンション
→ コマンドが自動でピックアップ
→ 1on1のアジェンダも自動で拾う
→ 「他にありますか？」で漏れ防止
→ 抱えている全タスクが可視化
```

---

## 🔗 関連リソース

- [CMD_インストール](https://www.notion.so/CMD_-2c4b133701be8149a286d1190911a8b0?pvs=21)（前提コマンド）
- [CTX_abstract_mode_rules](../../abstract-mode.md)
- [統合運営ガイド（Notion AI勉強会）](https://www.notion.so/Notion-AI-713093f763e34a89a8380c11ed078e0e?pvs=21)

---

## 🧪 テスト結果

### テスト1: 通常パターン

- ステータス: ⏳ 未実施
- タスク数: Notion 3件、Slack 2件
- 実行時間: -
- 結果: -

### テスト2: タスクなし

- ステータス: ⏳ 未実施
- タスク数: 0件
- HITLで追加するケース
- 実行時間: -
- 結果: -

### テスト3: Slack/Google Docsアクセス不可

- ステータス: ⏳ 未実施
- Notionのみで動作することを確認
- 実行時間: -
- 結果: -

---

**作成日**: 2025-12-09

**作成者**: miyatti

**ステータス**: 仕様完成・実装待ち