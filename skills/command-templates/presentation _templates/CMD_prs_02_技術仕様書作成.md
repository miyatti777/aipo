# CMD_prs_02_技術仕様書作成

最終更新日時: 2025年12月25日 9:06

## 最初に質問（実行前に回答してください）

- 対象システム・機能は何ですか？
- 読者は誰ですか？（開発チーム、運用チーム等）
- どのレベルの詳細度が必要ですか？（概要 or 詳細設計）

## 目的

システムや機能の技術仕様書を作成します。開発・運用・保守に必要な技術情報を網羅的にドキュメント化します。

## 必要入力

- **対象**: システム名、機能名
- **目的**: なぜこの仕様書が必要か
- **スコープ**: どこまで記載するか
- **参考資料**: 既存のコード、設計書等

## 実行手順

### ステップ1: 要件の整理

- 機能要件の明確化
- 非機能要件の整理
- 制約条件の確認

### ステップ2: 設計の文書化

- Flow でドラフトを作成
- アーキテクチャ図の作成
- データモデルの定義
- API仕様の記載

### ステップ3: レビューと確定

- 開発チームでレビュー
- フィードバックを反映
- Stock/1_sense へ確定版を保管

## 技術仕様書の構成

### 📋 概要

1. **文書情報**
    - 文書名
    - バージョン
    - 作成日、更新日
    - 作成者
2. **目的とスコープ**
    - なぜこのシステムを作るのか
    - 対象範囲
    - 対象外の範囲
3. **用語定義**
    - システム固有の用語
    - 略語の説明

### 🎯 要件

1. **機能要件**
    - ユーザーストーリー
    - ユースケース
    - 機能一覧
2. **非機能要件**
    - パフォーマンス要件
    - セキュリティ要件
    - 可用性要件
    - スケーラビリティ要件

### 🏗️ 設計

1. **システムアーキテクチャ**
    - システム構成図
    - コンポーネント図
    - 技術スタック
2. **データモデル**
    - ER図
    - テーブル定義
    - データフロー
3. **API仕様**
    - エンドポイント一覧
    - リクエスト/レスポンス形式
    - 認証・認可
4. **画面設計**
    - ワイヤーフレーム
    - 画面遷移図
    - UI/UX要件

### 🔧 実装

1. **技術詳細**
    - 使用ライブラリ
    - 開発環境
    - ビルド・デプロイ手順
2. **エラーハンドリング**
    - エラーコード一覧
    - エラー処理方針
3. **ログ・監視**
    - ログ出力仕様
    - 監視項目
    - アラート設定

### ✅ 運用

1. **運用手順**
    - デプロイ手順
    - バックアップ手順
    - 障害対応手順
2. **テスト仕様**
    - テスト戦略
    - テストケース
    - テスト環境

## Flow/Stock運用

### Flow での作業

- Flow/YYYYMM/tech_specs でドラフトを作成
- 段階的に詳細化
- レビューコメントを反映しながら作成

### Stock への保管

- 確定版を Stock/1_sense/tech_specs/[システム名] へ保管
- バージョン管理を実施
- 変更履歴を記録

## 生成物

- Flow/202512/tech_specs/[システム名]_[draft.md](http://draft.md)（ドラフト）
- Stock/tech_specs/[システム名]/spec_[v1.0.md](http://v1.0.md)（確定版）
- Stock/tech_specs/[システム名]/[changelog.md](http://changelog.md)（変更履歴）

## 技術仕様書作成のポイント

### ✅ 良い仕様書

- **明確**: 曖昧さがない
- **完全**: 必要な情報が全て含まれている
- **一貫性**: 記述が矛盾していない
- **追跡可能**: 要件から実装まで追跡できる
- **保守可能**: 更新・メンテナンスしやすい

### ❌ 避けるべき仕様書

- **曖昧**: 「適切に」「必要に応じて」等の表現
- **不完全**: 重要な情報が欠落
- **矛盾**: セクション間で記述が異なる
- **古い**: 実装と乖離している

## 次に実行

- **レビュー**: 開発チームで仕様書をレビュー
- **実装**: 仕様書に基づいて開発着手
- **テスト**: 仕様書に基づいてテストケース作成

## トラブルシュート

- 詳細度が不明な場合は読者に確認
- 情報が不足している場合は関係者にヒアリング
- 更新が追いつかない場合は自動生成ツールの活用を検討